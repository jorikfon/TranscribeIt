# –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–±–ª–µ–º TranscribeIt

## üìä –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 13 –Ω–æ—è–±—Ä—è 2025
**–¢–µ–∫—É—â–∏–π —Å–ø—Ä–∏–Ω—Ç:** Sprint 4 - –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω)
**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 47/47 –∑–∞–¥–∞—á (100%) ‚úÖ –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
- **1.1** –°–æ–∑–¥–∞–Ω TranscriptionError enum —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ (2025-11-10)
- **1.2** –ó–∞–º–µ–Ω–µ–Ω FileTranscriptionError –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π TranscriptionError (2025-11-10)
- **1.3** –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WhisperError enum - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (2025-11-10)
- **1.4** –°–æ–∑–¥–∞–Ω AudioPlayerError enum —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏ (2025-11-10)
- **1.5** –û–±–Ω–æ–≤–ª–µ–Ω error handling –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö (2025-11-10)
- **4.1** –ù–∞—Å—Ç—Ä–æ–µ–Ω Test Target –¥–ª—è unit-—Ç–µ—Å—Ç–æ–≤ (2025-11-10)
- **2.1** –°–æ–∑–¥–∞–Ω—ã –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (2025-11-10)
- **2.2** –î–æ–±–∞–≤–ª–µ–Ω DI –≤ WhisperService —á–µ—Ä–µ–∑ VocabularyManagerProtocol (2025-11-10)
- **2.3** –î–æ–±–∞–≤–ª–µ–Ω DI –≤ FileTranscriptionService —á–µ—Ä–µ–∑ UserSettingsProtocol (2025-11-10)
- **2.4** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AppDelegate —Å DependencyContainer (2025-11-10)
- **2.5** –°–æ–∑–¥–∞–Ω—ã Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (2025-11-10)
- **3.1** –í—ã–¥–µ–ª–µ–Ω FileTranscriptionViewModel –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (2025-11-10)
- **3.2** –í—ã–¥–µ–ª–µ–Ω TimelineMapper –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª (2025-11-10)
- **3.3** –†–∞–∑–¥–µ–ª–µ–Ω FileTranscriptionView –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (2025-11-10)
- **3.4** –í—ã–¥–µ–ª–µ–Ω TimelineView –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (2025-11-12)
- **3.6** –í—ã–¥–µ–ª–µ–Ω AudioPlayerView –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ (2025-11-12)
- **8.1** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ transcribeStereoAsDialogue: —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 3 –º–µ—Ç–æ–¥–∞ (2025-11-12)
- **8.2** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ performTranscription –≤ AppDelegate: —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 3 –º–µ—Ç–æ–¥–∞ (2025-11-12)
- **8.3** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ setupAudioEngine –≤ AudioPlayerManager: —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 7 –º–µ—Ç–æ–¥–æ–≤ (2025-11-12)
- **4.2** –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è TimelineMapper - 21 —Ç–µ—Å—Ç, 100% –ø–æ–∫—Ä—ã—Ç–∏–µ (2025-11-12)
- **4.4** –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è AudioNormalizer - 9 integration —Ç–µ—Å—Ç–æ–≤ (2025-11-12)
- **4.5** –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è FileTranscriptionViewModel - 27 —Ç–µ—Å—Ç–æ–≤ (2025-11-12)
- **4.3** –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è VAD –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ - 32 —Ç–µ—Å—Ç–∞ (20 SpectralVAD + 12 integration) (2025-11-12)
- **5.1** –°–æ–∑–¥–∞–Ω AudioCache actor –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ (2025-11-12)
- **5.2** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω AudioCache –≤ FileTranscriptionService (2025-11-12)
- **5.3** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω AudioCache –≤ AudioPlayerManager (2025-11-12)
- **6.1** –°–æ–∑–¥–∞–Ω—ã state —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è AudioPlayer (AudioPlayerState, PlaybackState, AudioState, AudioSettings) (2025-11-12)
- **6.2** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AudioPlayerManager –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ state (2025-11-12)
- **7.1** –°–æ–∑–¥–∞–Ω—ã TimelineConstants –¥–ª—è –≤—Å–µ—Ö magic numbers –≤ timeline –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (2025-11-13)
- **7.2** –°–æ–∑–¥–∞–Ω—ã TurnCardConstants –¥–ª—è –≤—Å–µ—Ö magic numbers –≤ CompactTurnCard (2025-11-13)
- **7.3** –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è magic numbers –≤ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏ —Å–µ—Ä–≤–∏—Å–∞—Ö (2025-11-13)
  - –°–æ–∑–¥–∞–Ω `TranscriptionViewConstants.swift` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è HeaderView, EmptyStateView, SettingsPanel, ContentView
  - –°–æ–∑–¥–∞–Ω `SilenceIndicatorConstants.swift` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è SilenceIndicator
  - –°–æ–∑–¥–∞–Ω `ServiceConstants.swift` —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è —Ç–∞–π–º–∏–Ω–≥–æ–≤ –∏ –∞—É–¥–∏–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
  - –ó–∞–º–µ–Ω–µ–Ω—ã magic numbers –≤ 7 UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö: HeaderView, EmptyStateView, SettingsPanel, ContentView, SilenceIndicator
  - –ó–∞–º–µ–Ω–µ–Ω—ã magic numbers –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö: FileTranscriptionService (sleep intervals), ModelManager (sleep intervals), ExportManager (time calculations)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- **9.1** –°–æ–∑–¥–∞–Ω StatusIndicator ViewBuilder –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (2025-11-13)
- **9.2** –°–æ–∑–¥–∞–Ω ActionButton ViewBuilder –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (2025-11-13)
- **9.3** –£–ø—Ä–æ—â–µ–Ω FileTranscriptionView - –≤—ã–Ω–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–º body (2025-11-13)
- **10.1** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è WhisperService (2025-11-13)
- **10.2** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è FileTranscriptionService (2025-11-13)
- **10.3** –°–æ–∑–¥–∞–Ω ARCHITECTURE.md –¥–æ–∫—É–º–µ–Ω—Ç —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ (2025-11-13)

### ‚ú® –ó–∞–≤–µ—Ä—à–µ–Ω—ã —Ü–µ–ª—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 1: Typed Errors** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (5/5 –∑–∞–¥–∞—á)
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 2: Dependency Injection** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (5/5 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (MainWindow)** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (5/6 –∑–∞–¥–∞—á, 3.5 –¥—É–±–ª–∏—Ä—É–µ—Ç 3.4) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 4: Unit-—Ç–µ—Å—Ç—ã** - –ó–ê–í–ï–†–®–ï–ù–ê (5/6 –∑–∞–¥–∞—á, 106 —Ç–µ—Å—Ç–æ–≤) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 5: –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (3/3 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 6: State management** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (2/2 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 7: Magic numbers** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (3/3 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 8: –î–ª–∏–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (3/3 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 9: SwiftUI –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (3/3 –∑–∞–¥–∞—á) üéâ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ 10: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API** - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–í–ï–†–®–ï–ù–ê (3/3 –∑–∞–¥–∞—á) üéâ

### üéä –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω!
**–í—Å–µ 10 –ø—Ä–æ–±–ª–µ–º —Ä–µ—à–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ production.**

---

## –í–≤–µ–¥–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–µ–∫—Ç–∞ TranscribeIt –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –∏ –æ—Ü–µ–Ω–∫–æ–π —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç. –ö–∞–∂–¥–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## –õ–µ–≥–µ–Ω–¥–∞

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
- üî¥ **P0 (Critical)** - –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∏–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ
- üü† **P1 (High)** - –≤–∞–∂–Ω–æ –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–¥–µ–ª–∞–Ω–æ —Å–∫–æ—Ä–æ
- üü° **P2 (Medium)** - —É–ª—É—á—à–∏—Ç –∫–æ–¥, –Ω–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- üü¢ **P3 (Low)** - nice to have, –ø–æ–ª–∏—Ä–æ–≤–∫–∞

**–°–ª–æ–∂–Ω–æ—Å—Ç—å:**
- üü¶ **XS** - 1-2 —á–∞—Å–∞
- üü¶ **S** - 2-4 —á–∞—Å–∞
- üü® **M** - 4-8 —á–∞—Å–æ–≤ (1 –¥–µ–Ω—å)
- üüß **L** - 1-3 –¥–Ω—è
- üü• **XL** - 3-5 –¥–Ω–µ–π

---

## –ü—Ä–æ–±–ª–µ–º–∞ 1: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –æ—à–∏–±–æ–∫

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üüß L (2 –¥–Ω—è)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `NSError` –∏ –æ–±—â–∏–µ –æ—à–∏–±–∫–∏, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫.

### –ó–∞–¥–∞—á–∏

#### 1.1 –°–æ–∑–¥–∞—Ç—å enum —Å –æ—à–∏–±–∫–∞–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
**–§–∞–π–ª:** `Sources/Errors/TranscriptionError.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

```swift
enum TranscriptionError: LocalizedError {
    case serviceNotInitialized(String)
    case audioLoadFailed(URL, underlying: Error)
    case noAudioTrack(URL)
    case modelNotReady
    case transcriptionTimeout
    case invalidFileFormat(URL, expected: [String])
    case fileNotFound(URL)
    case fileTooLarge(URL, size: Int64, max: Int64)
    case invalidAudioFormat(URL, reason: String)

    var errorDescription: String? { /* ... */ }
    var recoverySuggestion: String? { /* ... */ }
}
```

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `Sources/Errors/`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å `TranscriptionError` enum
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `LocalizedError` –ø—Ä–æ—Ç–æ–∫–æ–ª
4. –î–æ–±–∞–≤–∏—Ç—å recovery suggestions –¥–ª—è –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏

#### 1.2 –ó–∞–º–µ–Ω–∏—Ç—å NSError –≤ FileTranscriptionService
**–§–∞–π–ª—ã:**
- `Sources/Services/FileTranscriptionService.swift:252`
- `Sources/Services/FileTranscriptionService.swift:349`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

**–®–∞–≥–∏:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ `throw NSError(domain: "FileTranscriptionService"...)`
2. –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `throw TranscriptionError.serviceNotInitialized(...)`
3. –û–±–Ω–æ–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ –≤—ã–∑—ã–≤–∞—é—â–µ–º –∫–æ–¥–µ

#### 1.3 –°–æ–∑–¥–∞—Ç—å enum —Å –æ—à–∏–±–∫–∞–º–∏ WhisperService
**–§–∞–π–ª:** `Sources/Errors/WhisperError.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

```swift
enum WhisperError: LocalizedError {
    case modelNotLoaded
    case modelLoadFailed(underlying: Error, modelSize: String)
    case transcriptionFailed(underlying: Error, duration: TimeInterval)
    case invalidAudioFormat(reason: String)
    case modelDownloadFailed(URL, Error)
    case insufficientMemory(required: Int64, available: Int64)

    var errorDescription: String? { /* ... */ }
    var recoverySuggestion: String? { /* ... */ }
}
```

#### 1.4 –°–æ–∑–¥–∞—Ç—å enum —Å –æ—à–∏–±–∫–∞–º–∏ AudioPlayer
**–§–∞–π–ª:** `Sources/Errors/AudioPlayerError.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

```swift
enum AudioPlayerError: LocalizedError {
    case loadFailed(Error)
    case playbackFailed(String)
    case invalidFormat(expected: String, actual: String)
    case engineStartFailed(Error)

    var errorDescription: String? { /* ... */ }
}
```

#### 1.5 –û–±–Ω–æ–≤–∏—Ç—å error handling –≤–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö
**–§–∞–π–ª—ã:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ `Sources/Services/`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (6 —á–∞—Å–æ–≤)

**–®–∞–≥–∏:**
1. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ generic errors –Ω–∞ typed errors
2. –î–æ–±–∞–≤–∏—Ç—å do-catch –±–ª–æ–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å structured errors –≤ UI —á–µ—Ä–µ–∑ ViewModel

---

## –ü—Ä–æ–±–ª–µ–º–∞ 2: –ñ–µ—Å—Ç–∫–∞—è —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–∏–Ω–≥–ª—Ç–æ–Ω—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üüß L (2 –¥–Ω—è)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∏–Ω–≥–ª—Ç–æ–Ω–æ–≤ (`VocabularyManager.shared`, `UserSettings.shared`) –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–µ—Ç —Å–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.

### –ó–∞–¥–∞—á–∏

#### 2.1 –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
**–§–∞–π–ª—ã:** `Sources/Protocols/`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (5 —á–∞—Å–æ–≤)

```swift
// VocabularyManagerProtocol.swift
protocol VocabularyManagerProtocol {
    func correctTranscription(_ text: String) -> String
    func loadDictionary(id: String) -> [String]?
    func applyCorrections(_ text: String, using dictionaries: [String]) -> String
}

// UserSettingsProtocol.swift
protocol UserSettingsProtocol {
    var transcriptionLanguage: String { get set }
    var vadAlgorithmType: VADAlgorithmType { get set }
    var fileTranscriptionMode: FileTranscriptionMode { get set }
    func buildFullPrefillPrompt() -> String
}

// ModelManagerProtocol.swift
protocol ModelManagerProtocol {
    var currentModel: String { get }
    var supportedModels: [ModelInfo] { get }
    func saveCurrentModel(_ model: String)
}
```

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `Sources/Protocols/`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∫–ª–∞—Å—Å–∞—Ö

#### 2.2 –î–æ–±–∞–≤–∏—Ç—å DI –≤ WhisperService
**–§–∞–π–ª:** `Sources/Services/WhisperService.swift:10`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

**–ë—ã–ª–æ:**
```swift
private let vocabularyManager = VocabularyManager.shared
```

**–°—Ç–∞–ª–æ:**
```swift
private let vocabularyManager: VocabularyManagerProtocol

public init(
    modelSize: String = "small",
    vocabularyManager: VocabularyManagerProtocol = VocabularyManager.shared
) {
    self.vocabularyManager = vocabularyManager
    self.modelSize = modelSize
}
```

#### 2.3 –î–æ–±–∞–≤–∏—Ç—å DI –≤ FileTranscriptionService
**–§–∞–π–ª:** `Sources/Services/FileTranscriptionService.swift:189`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

**–®–∞–≥–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å `UserSettingsProtocol` –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
2. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
3. –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–∑–æ–≤—ã –≤ `AppDelegate`

#### 2.4 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AppDelegate –¥–ª—è DI
**–§–∞–π–ª:** `Sources/App/AppDelegate.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (4 —á–∞—Å–∞)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å DI Container –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω—É—é –∏–Ω—ä–µ–∫—Ü–∏—é
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `initializeServices()`
3. –ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã

#### 2.5 –°–æ–∑–¥–∞—Ç—å mock-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
**–§–∞–π–ª:** `Tests/Mocks/`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

```swift
class MockVocabularyManager: VocabularyManagerProtocol {
    var correctTranscriptionCallCount = 0
    var stubbedCorrection: String = ""

    func correctTranscription(_ text: String) -> String {
        correctTranscriptionCallCount += 1
        return stubbedCorrection.isEmpty ? text : stubbedCorrection
    }
}
```

---

## –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (MainWindow 1394 —Å—Ç—Ä–æ–∫)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü• XL (4 –¥–Ω—è)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
`MainWindow.swift` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç NSWindow, ViewModel, –º–Ω–æ–∂–µ—Å—Ç–≤–æ SwiftUI views, timeline mapping - –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ.

### –ó–∞–¥–∞—á–∏

#### 3.1 –í—ã–¥–µ–ª–∏—Ç—å FileTranscriptionViewModel –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Sources/UI/ViewModels/FileTranscriptionViewModel.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Sources/UI/ViewModels/`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `FileTranscriptionViewModel` (—Å—Ç—Ä–æ–∫–∏ 126-228)
3. –°–¥–µ–ª–∞—Ç—å public –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–µ—Ç–æ–¥—ã/—Å–≤–æ–π—Å—Ç–≤–∞
4. –û–±–Ω–æ–≤–∏—Ç—å imports –≤ `MainWindow.swift`

#### 3.2 –í—ã–¥–µ–ª–∏—Ç—å TimelineMapper –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Sources/Utils/Timeline/TimelineMapper.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Sources/Utils/Timeline/`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `CompressedTimelineMapper` (—Å—Ç—Ä–æ–∫–∏ 681-787)
3. –°–æ–∑–¥–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è mapper
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º —Å–∂–∞—Ç–∏—è

#### 3.3 –†–∞–∑–¥–µ–ª–∏—Ç—å FileTranscriptionView –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `Sources/UI/Views/Transcription/HeaderView.swift`
- `Sources/UI/Views/Transcription/ContentView.swift`
- `Sources/UI/Views/Transcription/EmptyStateView.swift`
- `Sources/UI/Views/Transcription/SettingsPanel.swift`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üüß L (1 –¥–µ–Ω—å)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Sources/UI/Views/Transcription/`
2. –í—ã–¥–µ–ª–∏—Ç—å `HeaderView` (—Å—Ç—Ä–æ–∫–∏ 274-380)
3. –í—ã–¥–µ–ª–∏—Ç—å `SettingsPanel` (—Å—Ç—Ä–æ–∫–∏ 564-678)
4. –í—ã–¥–µ–ª–∏—Ç—å `EmptyStateView` (—Å—Ç—Ä–æ–∫–∏ 443-474)
5. –û–±–Ω–æ–≤–∏—Ç—å `FileTranscriptionView` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 3.4 –í—ã–¥–µ–ª–∏—Ç—å TimelineView –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Sources/UI/Views/Timeline/TimelineDialogueView.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (6 —á–∞—Å–æ–≤)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Sources/UI/Views/Timeline/`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `TimelineSyncedDialogueView` (—Å—Ç—Ä–æ–∫–∏ 790-872)
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `TimelineDialogueView` (—Å—Ç—Ä–æ–∫–∏ 876-1074)
4. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (`SyncedRow`, `SilenceIndicator`)

#### 3.5 –í—ã–¥–µ–ª–∏—Ç—å TurnCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
**–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `Sources/UI/Views/Timeline/CompactTurnCard.swift`
- `Sources/UI/Views/Timeline/SilenceIndicator.swift`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

#### 3.6 –í—ã–¥–µ–ª–∏—Ç—å AudioPlayerView
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Sources/UI/Views/Audio/AudioPlayerView.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

**–®–∞–≥–∏:**
1. –°–æ–∑–¥–∞—Ç—å `Sources/UI/Views/Audio/`
2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å `AudioPlayerView` (—Å—Ç—Ä–æ–∫–∏ 1248-1374)
3. –°–æ–∑–¥–∞—Ç—å constants –¥–ª—è magic numbers

---

## –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ unit-—Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü• XL (5 –¥–Ω–µ–π)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
–í –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ—Ç unit-—Ç–µ—Å—Ç–æ–≤, —á—Ç–æ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–π.

### –ó–∞–¥–∞—á–∏

#### 4.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Test Target
**–§–∞–π–ª:** `Package.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ P0
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

```swift
targets: [
    .target(
        name: "TranscribeItCore",
        // ...
    ),
    .testTarget(
        name: "TranscribeItCoreTests",
        dependencies: ["TranscribeItCore"]
    )
]
```

#### 4.2 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è TimelineMapper
**–§–∞–π–ª:** `Tests/Utils/Timeline/TimelineMapperTests.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (5 —á–∞—Å–æ–≤)

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤ —Ç–∏—à–∏–Ω—ã
- ‚úÖ –°–∂–∞—Ç–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö gaps
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö gaps
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–±—â–µ–π –≤–∏–∑—É–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ overlapping —Ä–µ–ø–ª–∏–∫

```swift
func testSilenceGapDetection() {
    let turns = [
        DialogueTranscription.Turn(speaker: .left, text: "Hello", startTime: 0, endTime: 2),
        DialogueTranscription.Turn(speaker: .right, text: "World", startTime: 5, endTime: 7)
    ]

    let mapper = CompressedTimelineMapper(turns: turns)

    XCTAssertEqual(mapper.silenceGaps.count, 1)
    XCTAssertEqual(mapper.silenceGaps[0].duration, 3.0)
}
```

#### 4.3 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è VAD –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
**–§–∞–π–ª—ã:**
- `Tests/Utils/VAD/SpectralVADTests.swift`
- `Tests/Utils/VAD/AdaptiveVADTests.swift`

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü† P1
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üüß L (2 –¥–Ω—è)

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ VAD:**
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ—á–µ–≤—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç–∏—à–∏–Ω–µ
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ–Ω—å —Ç–∏—Ö–æ–≥–æ –∞—É–¥–∏–æ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ overlapping —Ä–µ—á–∏ (—Å—Ç–µ—Ä–µ–æ)

#### 4.4 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è AudioNormalizer
**–§–∞–π–ª:** `Tests/Utils/AudioNormalizerTests.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏—Ö–æ–≥–æ –∞—É–¥–∏–æ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–≥–æ –∞—É–¥–∏–æ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ clipping
- ‚úÖ RMS calculation
- ‚úÖ Peak detection

#### 4.5 –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è FileTranscriptionViewModel
**–§–∞–π–ª:** `Tests/UI/ViewModels/FileTranscriptionViewModelTests.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (6 —á–∞—Å–æ–≤)

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—à–∏–±–∫–∏
- ‚úÖ –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –ø–ª–µ–µ—Ä–æ–º

#### 4.6 –°–æ–∑–¥–∞—Ç—å integration —Ç–µ—Å—Ç—ã –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
**–§–∞–π–ª:** `Tests/Integration/TranscriptionIntegrationTests.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üüß L (2 –¥–Ω—è)

**–¢–µ—Å—Ç-–∫–µ–π—Å—ã:**
- ‚úÖ End-to-end —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ —Ñ–∞–π–ª–∞
- ‚úÖ –°—Ç–µ—Ä–µ–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (MP3, WAV, M4A)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (invalid —Ñ–∞–π–ª, corrupted audio)

---

## –ü—Ä–æ–±–ª–µ–º–∞ 5: –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü® M (1 –¥–µ–Ω—å)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
–ê—É–¥–∏–æ —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è 3 —Ä–∞–∑–∞: –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ mono, –¥–ª—è stereo separation, –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.

### –ó–∞–¥–∞—á–∏

#### 5.1 –°–æ–∑–¥–∞—Ç—å AudioCache actor
**–§–∞–π–ª:** `Sources/Utils/Audio/AudioCache.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

```swift
actor AudioCache {
    struct CachedAudio {
        let samples: [Float]
        let stereoChannels: ([Float], [Float])?
        let sampleRate: Double
        let duration: TimeInterval
        let loadedAt: Date
    }

    private var cache: [URL: CachedAudio] = [:]
    private let maxCacheAge: TimeInterval = 300  // 5 –º–∏–Ω—É—Ç
    private let maxCacheSize: Int = 3  // –ú–∞–∫—Å–∏–º—É–º 3 —Ñ–∞–π–ª–∞

    func loadAudio(from url: URL) async throws -> CachedAudio {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞
        if let cached = cache[url],
           Date().timeIntervalSince(cached.loadedAt) < maxCacheAge {
            return cached
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å –¥–∏—Å–∫–∞
        let audio = try await loadFromDisk(url)
        cache[url] = audio

        // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞
        if cache.count > maxCacheSize {
            evictOldest()
        }

        return audio
    }
}
```

#### 5.2 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AudioCache –≤ FileTranscriptionService
**–§–∞–π–ª:** `Sources/Services/FileTranscriptionService.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

**–®–∞–≥–∏:**
1. –î–æ–±–∞–≤–∏—Ç—å `AudioCache` –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à –≤ `loadAudio()` –∏ `loadAudioStereo()`
3. –û—á–∏—â–∞—Ç—å –∫—ç—à –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

#### 5.3 –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å AudioCache –≤ AudioPlayerManager
**–§–∞–π–ª:** `Sources/Utils/AudioPlayerManager.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

---

## –ü—Ä–æ–±–ª–µ–º–∞ 6: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–æ @Published

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü® M (1 –¥–µ–Ω—å)

### –ö–æ–Ω—Ç–µ–∫—Å—Ç
`AudioPlayerManager` –∏–º–µ–µ—Ç 8 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö `@Published` —Å–≤–æ–π—Å—Ç–≤, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

### –ó–∞–¥–∞—á–∏

#### 6.1 –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è AudioPlayer
**–§–∞–π–ª:** `Sources/UI/ViewModels/AudioPlayerState.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

```swift
struct AudioPlayerState {
    var playback: PlaybackState
    var audio: AudioState
    var settings: AudioSettings
}

struct PlaybackState {
    var isPlaying: Bool = false
    var currentTime: TimeInterval = 0
    var duration: TimeInterval = 0
}

struct AudioState {
    var volume: Float = 1.0
    var volumeBoost: Float = 1.0

    var effectiveVolume: Float {
        return volume * volumeBoost
    }
}

struct AudioSettings {
    var playbackRate: Float = 1.0
    var monoMode: Bool = true
    var pauseOtherPlayersEnabled: Bool = true
}
```

#### 6.2 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AudioPlayerManager –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è state
**–§–∞–π–ª:** `Sources/Utils/AudioPlayerManager.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü® M (5 —á–∞—Å–æ–≤)

**–®–∞–≥–∏:**
1. –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `@Published var` –Ω–∞ `@Published var state`
2. –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `state`
3. –û–±–Ω–æ–≤–∏—Ç—å UI –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `state.playback.isPlaying` –≤–º–µ—Å—Ç–æ `isPlaying`

---

## –ü—Ä–æ–±–ª–µ–º–∞ 7: –ú–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞ –≤ –∫–æ–¥–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü¶ S (4 —á–∞—Å–∞)

### –ó–∞–¥–∞—á–∏

#### 7.1 –°–æ–∑–¥–∞—Ç—å constants –¥–ª—è Timeline
**–§–∞–π–ª:** `Sources/UI/Views/Timeline/TimelineConstants.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

```swift
enum TimelineConstants {
    static let minSilenceGapToCompress: TimeInterval = 0.5
    static let compressedGapDisplayDuration: TimeInterval = 0.15
    static let turnSyncTolerance: TimeInterval = 0.5
    static let significantSilenceThreshold: TimeInterval = 1.0
    static let minPixelsPerSecond: CGFloat = 15
    static let maxPixelsPerSecond: CGFloat = 80
    static let maxTimelineHeight: CGFloat = 600
}
```

#### 7.2 –°–æ–∑–¥–∞—Ç—å constants –¥–ª—è TurnCard
**–§–∞–π–ª:** `Sources/UI/Views/Timeline/TurnCardConstants.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

```swift
enum TurnCardConstants {
    static let minDurationBarHeight: CGFloat = 10
    static let maxDurationBarHeight: CGFloat = 60
    static let durationBarScale: CGFloat = 3.0
    static let contextPromptMaxLength: Int = 300
}
```

#### 7.3 –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ magic numbers –Ω–∞ constants
**–§–∞–π–ª—ã:** –í—Å–µ View —Ñ–∞–π–ª—ã
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

---

## –ü—Ä–æ–±–ª–µ–º–∞ 8: –î–ª–∏–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã (>50 —Å—Ç—Ä–æ–∫)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü® M (1 –¥–µ–Ω—å)

### –ó–∞–¥–∞—á–∏

#### 8.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ transcribeStereoAsDialogue
**–§–∞–π–ª:** `Sources/Services/FileTranscriptionService.swift:438-535`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

**–†–∞–∑–±–∏—Ç—å –Ω–∞:**
- `prepareStereoChanels(from:)` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ
- `detectAndMergeStereoSegments(left:right:)` - VAD –∏ merge
- `transcribeSegmentsInOrder(_:fileName:)` - —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è loop

#### 8.2 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ performTranscription –≤ AppDelegate
**–§–∞–π–ª:** `Sources/App/AppDelegate.swift:229-344`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° P2
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

**–†–∞–∑–±–∏—Ç—å –Ω–∞:**
- `waitForModelLoading()` - –æ–∂–∏–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
- `executeTranscription(file:window:)` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
- `handleTranscriptionError(_:file:window:)` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

#### 8.3 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ setupAudioEngine –≤ AudioPlayerManager
**–§–∞–π–ª:** `Sources/Utils/AudioPlayerManager.swift:39-51`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

---

## –ü—Ä–æ–±–ª–µ–º–∞ 9: SwiftUI View –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü¶ S (4 —á–∞—Å–∞)

### –ó–∞–¥–∞—á–∏

#### 9.1 –°–æ–∑–¥–∞—Ç—å ViewBuilder –¥–ª—è StatusIndicator
**–§–∞–π–ª:** `Sources/UI/Components/StatusIndicator.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (1 —á–∞—Å)

#### 9.2 –°–æ–∑–¥–∞—Ç—å ViewBuilder –¥–ª—è ActionButton
**–§–∞–π–ª:** `Sources/UI/Components/ActionButton.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ XS (30 –º–∏–Ω—É—Ç)

#### 9.3 –£–ø—Ä–æ—Å—Ç–∏—Ç—å FileTranscriptionView body
**–§–∞–π–ª:** `Sources/UI/Views/FileTranscriptionView.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

---

## –ü—Ä–æ–±–ª–µ–º–∞ 10: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:** üü® M (1 –¥–µ–Ω—å)

### –ó–∞–¥–∞—á–∏

#### 10.1 –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã WhisperService
**–§–∞–π–ª:** `Sources/Services/WhisperService.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

**–ú–µ—Ç–æ–¥—ã:**
- `loadModel()`
- `transcribe(audioSamples:contextPrompt:)`
- `transcribeChunk(audioSamples:)`
- `reloadModel(newModelSize:)`

#### 10.2 –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã FileTranscriptionService
**–§–∞–π–ª:** `Sources/Services/FileTranscriptionService.swift`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (3 —á–∞—Å–∞)

#### 10.3 –°–æ–∑–¥–∞—Ç—å README –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
**–§–∞–π–ª:** `ARCHITECTURE.md`
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ P3
**–°–ª–æ–∂–Ω–æ—Å—Ç—å:** üü¶ S (2 —á–∞—Å–∞)

---

## Roadmap –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### Sprint 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1 –Ω–µ–¥–µ–ª—è) ‚è≥ –í –ü–†–û–¶–ï–°–°–ï
**–¶–µ–ª—å:** –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –±–ª–æ–∫–µ—Ä—ã –∏ —É–ª—É—á—à–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –î–Ω–∏ | –°—Ç–∞—Ç—É—Å |
|--------|-----------|-----------|-----|--------|
| 1.1 - 1.5: Typed errors | üî¥ P0 | üüß L | 2 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** (5/5 –∑–∞–¥–∞—á) |
| 4.1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Test Target | üî¥ P0 | üü¶ XS | 0.2 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** |
| 2.1: –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã | üü† P1 | üü® M | 0.5 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** |
| 2.2: DI –≤ WhisperService | üü† P1 | üü¶ S | 0.3 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** |
| 2.3: DI –≤ FileTranscriptionService | üü† P1 | üü¶ S | 0.3 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** |
| 2.4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AppDelegate | üü† P1 | üü® M | 0.4 | ‚úÖ **–ó–ê–í–ï–†–®–ï–ù–û** |

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 10 –∏–∑ 14 –∑–∞–¥–∞—á –∑–∞–≤–µ—Ä—à–µ–Ω–æ (71%)
**–ò—Ç–æ–≥–æ:** ~4 –¥–Ω—è

### Sprint 2: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (2 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –†–∞–∑–¥–µ–ª–∏—Ç—å –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –î–Ω–∏ |
|--------|-----------|-----------|-----|
| 3.1 - 3.6: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ MainWindow | üü† P1 | üü• XL | 4 |
| 4.2: –¢–µ—Å—Ç—ã TimelineMapper | üü† P1 | üü® M | 0.5 |
| 4.3: –¢–µ—Å—Ç—ã VAD | üü† P1 | üüß L | 2 |
| 8.1 - 8.2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥–ª–∏–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ | üü° P2 | üü® M | 1 |

**–ò—Ç–æ–≥–æ:** ~7.5 –¥–Ω–µ–π

### Sprint 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –î–Ω–∏ |
|--------|-----------|-----------|-----|
| 5.1 - 5.3: AudioCache | üü° P2 | üü® M | 1 |
| 6.1 - 6.2: State management | üü° P2 | üü® M | 1 |
| 4.4 - 4.5: –¢–µ—Å—Ç—ã utils –∏ ViewModel | üü° P2 | üü® M | 1.5 |
| 2.5: Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ | üü° P2 | üü¶ S | 0.5 |

**–ò—Ç–æ–≥–æ:** ~4 –¥–Ω—è

### Sprint 4: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
**–¶–µ–ª—å:** –£–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

| –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –î–Ω–∏ |
|--------|-----------|-----------|-----|
| 7.1 - 7.3: Constants –≤–º–µ—Å—Ç–æ magic numbers | üü¢ P3 | üü¶ S | 0.5 |
| 9.1 - 9.3: SwiftUI refactoring | üü¢ P3 | üü¶ S | 0.5 |
| 10.1 - 10.3: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | üü¢ P3 | üü® M | 1 |

**–ò—Ç–æ–≥–æ:** ~2 –¥–Ω—è

---

## –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~18 –¥–Ω–µ–π (3.5 –Ω–µ–¥–µ–ª–∏)
**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å:** 6 –¥–Ω–µ–π (Sprint 1)
**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–º–∞–Ω–¥–∞:** 1-2 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

**Code Quality:**
- ‚úÖ 0 –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π `NSError` ‚Üí –¢–æ–ª—å–∫–æ typed errors
- ‚úÖ 0 –ø—Ä—è–º—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞–º –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö ‚Üí DI
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ < 500 —Å—Ç—Ä–æ–∫
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –º–µ—Ç–æ–¥–∞ < 50 —Å—Ç—Ä–æ–∫

**Test Coverage:**
- ‚úÖ Unit tests –¥–ª—è –≤—Å–µ—Ö VAD –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤
- ‚úÖ Unit tests –¥–ª—è TimelineMapper
- ‚úÖ Unit tests –¥–ª—è AudioNormalizer
- ‚úÖ >60% –ø–æ–∫—Ä—ã—Ç–∏–µ core –ª–æ–≥–∏–∫–∏

**Architecture:**
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ UI –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã < 200 —Å—Ç—Ä–æ–∫
- ‚úÖ –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
- ‚úÖ ViewModel –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç Views

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –ß–µ–∫-–ª–∏—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Typed Errors
- [x] 1.1 –°–æ–∑–¥–∞—Ç—å TranscriptionError enum ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/Errors/`
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `TranscriptionError.swift` —Å 12 —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã `errorDescription`, `recoverySuggestion`, `failureReason`
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- [x] 1.2 –ó–∞–º–µ–Ω–∏—Ç—å FileTranscriptionError –Ω–∞ TranscriptionError ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏: `silenceDetected(URL)`, `emptyTranscription(URL)`, `audioReadFailed(URL)`
  - –í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `FileTranscriptionError` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `TranscriptionError`
  - –£–¥–∞–ª–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π enum `FileTranscriptionError` –∏–∑ FileTranscriptionService.swift
  - –í—Å–µ 7 –º–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã —Å URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- [x] 1.3 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WhisperError enum ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –§–∞–π–ª `Sources/Errors/WhisperError.swift` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å 7 —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
  - –í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ WhisperService.swift –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (—Å—Ç—Ä–æ–∫–∏ 102, 141, 217, 342)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ FileTranscriptionService.swift (—Å—Ç—Ä–æ–∫–∏ 242, 314)
  - –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π –æ–±—â–∏—Ö NSError –≤ WhisperService
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] 1.4 –°–æ–∑–¥–∞—Ç—å AudioPlayerError enum ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/Errors/AudioPlayerError.swift` —Å 10 —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—à–∏–±–∫–∞–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: Loading Errors, Playback Errors, Configuration Errors
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã `errorDescription`, `recoverySuggestion`, `failureReason`
  - –£–¥–∞–ª–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ AudioPlayerManager.swift (—Å—Ç—Ä–æ–∫–∏ 376-388)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- [x] 1.5 –û–±–Ω–æ–≤–∏—Ç—å error handling ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ NSError –≤ BatchTranscriptionService (4 –º–µ—Å—Ç–∞)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏: `notStereoFile`, `channelDataUnavailable`
  - –ó–∞–º–µ–Ω–µ–Ω NSError –≤ AppDelegate –Ω–∞ TranscriptionError.serviceNotInitialized
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ AppDelegate —Å typed errors (TranscriptionError, WhisperError)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã recovery suggestions –≤ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ CLI —Ä–µ–∂–∏–º–µ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Dependency Injection
- [x] 2.1 –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/Protocols/`
  - –°–æ–∑–¥–∞–Ω `VocabularyManagerProtocol.swift` —Å 9 –º–µ—Ç–æ–¥–∞–º–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–º
  - –°–æ–∑–¥–∞–Ω `UserSettingsProtocol.swift` —Å –ø–æ–ª–Ω—ã–º API –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
  - –°–æ–∑–¥–∞–Ω `ModelManagerProtocol.swift` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Whisper –º–æ–¥–µ–ª—è–º–∏
  - –í—Å–µ –∫–ª–∞—Å—Å—ã —Ä–µ–∞–ª–∏–∑—É—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã: VocabularyManager, UserSettings, ModelManager
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] 2.2 DI –≤ WhisperService ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –ó–∞–º–µ–Ω–µ–Ω `VocabularyManager.shared` –Ω–∞ –∏–Ω—ä–µ–∫—Ü–∏—é —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª `VocabularyManagerProtocol`
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `vocabularyManager` –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `.shared`
  - –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã `WhisperService()` —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (backward compatible)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] 2.3 DI –≤ FileTranscriptionService ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ `private let userSettings: UserSettingsProtocol`
  - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `userSettings` –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º `UserSettings.shared`
  - –ó–∞–º–µ–Ω–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `UserSettings.shared` –Ω–∞ `userSettings` –≤ –º–µ—Ç–æ–¥–µ `applyUserSettings()` (2 –º–µ—Å—Ç–∞)
  - –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –≤ AppDelegate —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (backward compatible)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] 2.4 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AppDelegate –¥–ª—è DI ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω `DependencyContainer` –≤ `Sources/DI/DependencyContainer.swift`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Service Locator –ø–∞—Ç—Ç–µ—Ä–Ω —Å —Ñ–∞–±—Ä–∏—á–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã public —Å–≤–æ–π—Å—Ç–≤–∞ `modelManager: ModelManager` –∏ `userSettings: UserSettings`
  - –û–±–Ω–æ–≤–ª–µ–Ω AppDelegate –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è DependencyContainer —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `initializeServices()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–±—Ä–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ DI
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –ø—Ä—è–º—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `.shared` –Ω–∞ `dependencies.modelManager` –∏ `dependencies.userSettings`
  - –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã GUI –∏ CLI —Ä–µ–∂–∏–º—ã (–ø–æ–ª–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)
  - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ, –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] 2.5 Mock —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω `MockVocabularyManager` –≤ `Tests/Mocks/MockVocabularyManager.swift`
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã VocabularyManagerProtocol
    - –î–æ–±–∞–≤–ª–µ–Ω call tracking –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ (—Å—á–µ—Ç—á–∏–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è –≤—ã–∑–æ–≤–æ–≤)
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω stubbing –¥–ª—è correctTranscription —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä–∏
    - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—à–∏–±–æ–∫ (shouldThrowOnLoad, shouldThrowOnSave, shouldThrowOnRegex)
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ reset() –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
  - –°–æ–∑–¥–∞–Ω `MockUserSettings` –≤ `Tests/Mocks/MockUserSettings.swift`
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã UserSettingsProtocol
    - –î–æ–±–∞–≤–ª–µ–Ω call tracking –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ vocabularies, stopWords, –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ effectivePrompt, hasPrompt, buildFullPrefillPrompt
    - –ú–µ—Ç–æ–¥ reset() –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - –°–æ–∑–¥–∞–Ω `MockModelManager` –≤ `Tests/Mocks/MockModelManager.swift`
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã ModelManagerProtocol
    - –î–æ–±–∞–≤–ª–µ–Ω call tracking —Å –∏—Å—Ç–æ—Ä–∏–µ–π –≤—ã–∑–æ–≤–æ–≤
    - –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º (simulateDownloadProgress)
    - Stubbing –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π (modelAvailability —Å–ª–æ–≤–∞—Ä—å)
    - –§–ª–∞–≥–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –æ—à–∏–±–æ–∫ (shouldThrowOnDownload, shouldThrowOnDelete)
    - Helper –º–µ—Ç–æ–¥—ã: reset(), addDownloadedModel()
  - –°–æ–∑–¥–∞–Ω `MockUsageExamples.swift` —Å 15 –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
    - –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è MockVocabularyManager (4 —Ç–µ—Å—Ç–∞)
    - –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è MockUserSettings (4 —Ç–µ—Å—Ç–∞)
    - –ü—Ä–∏–º–µ—Ä—ã –¥–ª—è MockModelManager (4 —Ç–µ—Å—Ç–∞)
    - Integration –ø—Ä–∏–º–µ—Ä—ã (2 —Ç–µ—Å—Ç–∞)
    - –ü—Ä–∏–º–µ—Ä reset –∏ cleanup (1 —Ç–µ—Å—Ç)
  - –í—Å–µ —Ç–µ—Å—Ç—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (15/15)
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
  - Mock-–∫–ª–∞—Å—Å—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ unit-—Ç–µ—Å—Ç–∞—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [x] 3.1 –í—ã–¥–µ–ª–∏—Ç—å FileTranscriptionViewModel ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/UI/ViewModels/`
  - –ü–µ—Ä–µ–º–µ—â–µ–Ω –∫–ª–∞—Å—Å `FileTranscriptionViewModel` (—Å—Ç—Ä–æ–∫–∏ 126-228) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
  - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `FileTranscription` —Å enum `Status`
  - –£–¥–∞–ª–µ–Ω –¥—É–±–ª–∏—Ä—É—é—â–∏–π –∫–æ–¥ –∏–∑ `MainWindow.swift` (—É–º–µ–Ω—å—à–µ–Ω–æ –Ω–∞ ~126 —Å—Ç—Ä–æ–∫)
  - –£–¥–∞–ª–µ–Ω –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –∏–º–ø–æ—Ä—Ç `TranscribeItCore` –∏–∑ –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
  - –í—Å–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–¥–µ–ª–∞–Ω—ã public –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
  - MainWindow.swift —É–º–µ–Ω—å—à–µ–Ω —Å 1394 –¥–æ ~1268 —Å—Ç—Ä–æ–∫
- [x] 3.2 –í—ã–¥–µ–ª–∏—Ç—å TimelineMapper ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/Utils/Timeline/`
  - –ü–µ—Ä–µ–º–µ—â–µ–Ω –∫–ª–∞—Å—Å `CompressedTimelineMapper` (—Å—Ç—Ä–æ–∫–∏ 553-658) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª
  - –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `SilenceGap` —Å—Ç–∞–ª–∞ –≤–ª–æ–∂–µ–Ω–Ω–æ–π (public nested type)
  - –í—Å–µ –º–µ—Ç–æ–¥—ã –∏ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–¥–µ–ª–∞–Ω—ã public
  - –£–¥–∞–ª–µ–Ω –∏–∑–±—ã—Ç–æ—á–Ω—ã–π –∏–º–ø–æ—Ä—Ç `TranscribeItCore`
  - –£–¥–∞–ª–µ–Ω–æ ~107 —Å—Ç—Ä–æ–∫ –∏–∑ MainWindow.swift (—É–º–µ–Ω—å—à–µ–Ω –¥–æ 1155 —Å—Ç—Ä–æ–∫)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] 3.3 –†–∞–∑–¥–µ–ª–∏—Ç—å FileTranscriptionView ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/UI/Views/Transcription/`
  - –í—ã–¥–µ–ª–µ–Ω `HeaderView.swift` (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏)
  - –í—ã–¥–µ–ª–µ–Ω `SettingsPanel.swift` (–ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏)
  - –í—ã–¥–µ–ª–µ–Ω `EmptyStateView.swift` (–ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞)
  - –í—ã–¥–µ–ª–µ–Ω `ContentView.swift` (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `FileTranscriptionView` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `TranscriptionSettingsPanel`
  - –£–¥–∞–ª–µ–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã `TranscribeItCore`
  - MainWindow.swift —É–º–µ–Ω—å—à–µ–Ω —Å 1155 –¥–æ 876 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 279 —Å—Ç—Ä–æ–∫)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –∏ warnings –≤ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
- [x] 3.4 –í—ã–¥–µ–ª–∏—Ç—å TimelineView ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/UI/Views/Timeline/`
  - –í—ã–¥–µ–ª–µ–Ω `TimelineSyncedDialogueView.swift` (–≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä timeline —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–æ–º)
  - –í—ã–¥–µ–ª–µ–Ω `TimelineDialogueView.swift` (–¥–≤–µ –∫–æ–ª–æ–Ω–∫–∏ —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ä–µ–ø–ª–∏–∫–∞–º–∏)
  - –í—ã–¥–µ–ª–µ–Ω `SilenceIndicator.swift` (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤ —Ç–∏—à–∏–Ω—ã –º–µ–∂–¥—É —Ä–µ–ø–ª–∏–∫–∞–º–∏)
  - –í—ã–¥–µ–ª–µ–Ω `CompactTurnCard.swift` (–∫–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ä–µ–ø–ª–∏–∫–∏ —Å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - MainWindow.swift —É–º–µ–Ω—å—à–µ–Ω —Å 876 –¥–æ 424 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 452 —Å—Ç—Ä–æ–∫–∏)
  - –£–¥–∞–ª–µ–Ω–æ ~455 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞ –∏–∑ MainWindow.swift
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] 3.5 –í—ã–¥–µ–ª–∏—Ç—å TurnCard –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚úÖ **–£–ñ–ï –í–´–ü–û–õ–ù–ï–ù–û –≤ 3.4 –∫–∞–∫ CompactTurnCard.swift**
- [x] 3.6 –í—ã–¥–µ–ª–∏—Ç—å AudioPlayerView ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `Sources/UI/Views/Audio/`
  - –í—ã–¥–µ–ª–µ–Ω `AudioPlayerView.swift` —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –∞—É–¥–∏–æ –ø–ª–µ–µ—Ä–∞
  - –°–æ–∑–¥–∞–Ω `AudioPlayerConstants` enum —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –≤–º–µ—Å—Ç–æ magic numbers:
    - –†–∞–∑–º–µ—Ä—ã –∏–∫–æ–Ω–æ–∫ (playButton: 24, monoButton: 16, speed: 10, volume: 12)
    - –†–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤ (speedButton: 9, time: 11, volumePercent: 9)
    - Spacing –∑–Ω–∞—á–µ–Ω–∏—è (main: 8, controls: 12, speedControl: 4, volumeControl: 6)
    - Layout dimensions (progressBarHeight: 4, cornerRadius: 8, volumeSliderWidth: 60)
    - Playback settings (availablePlaybackRates, minVolumeBoost: 1.0, maxVolumeBoost: 5.0)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞ —Å –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º computed properties –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - MainWindow.swift —É–º–µ–Ω—å—à–µ–Ω —Å 424 –¥–æ 297 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 127 —Å—Ç—Ä–æ–∫)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
  - **–ò–¢–û–ì–û–í–ê–Ø –≠–ö–û–ù–û–ú–ò–Ø:** MainWindow.swift —Å–æ–∫—Ä–∞—Ç–∏–ª—Å—è —Å 1394 –¥–æ 297 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 1097 —Å—Ç—Ä–æ–∫, 78.7%)

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Unit-—Ç–µ—Å—Ç—ã
- [x] 4.1 –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Test Target ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-10**
  - –î–æ–±–∞–≤–ª–µ–Ω testTarget –≤ Package.swift –¥–ª—è TranscribeItCoreTests
  - –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: Tests/{Utils,Services,UI,Integration,Mocks}
  - –°–æ–∑–¥–∞–Ω –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç TranscribeItCoreTests.swift
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: –≤—Å–µ 2 —Ç–µ—Å—Ç–∞ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `swift test`
- [x] 4.2 –¢–µ—Å—Ç—ã TimelineMapper ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª Tests/Utils/Timeline/TimelineMapperTests.swift —Å 21 —Ç–µ—Å—Ç–æ–º
  - –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ç–∏—à–∏–Ω—ã, —Å–∂–∞—Ç–∏–µ gaps, –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
  - –¢–µ—Å—Ç—ã –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤ —Ç–∏—à–∏–Ω—ã (6 —Ç–µ—Å—Ç–æ–≤):
    - testSimpleSilenceGapDetection - –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ —Ç–∏—à–∏–Ω—ã
    - testMultipleSilenceGaps - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏
    - testShortGapNotCompressed - –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏ –Ω–µ —Å–∂–∏–º–∞—é—Ç—Å—è
    - testGapExactlyAtThreshold - –≥—Ä–∞–Ω–∏—á–Ω—ã–π —Å–ª—É—á–∞–π (0.5 —Å–µ–∫)
    - testGapJustAboveThreshold - —á—É—Ç—å –±–æ–ª—å—à–µ –ø–æ—Ä–æ–≥–∞ (0.51 —Å–µ–∫)
  - –¢–µ—Å—Ç—ã –¥–ª—è overlapping —Ä–µ–ø–ª–∏–∫ (3 —Ç–µ—Å—Ç–∞):
    - testOverlappingTurnsNoGap - –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Ä–µ–ø–ª–∏–∫–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç —Ç–∏—à–∏–Ω—É
    - testPartialOverlapWithSilenceAfter - —á–∞—Å—Ç–∏—á–Ω–æ–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —Å —Ç–∏—à–∏–Ω–æ–π
    - testFullyNestedTurns - –ø–æ–ª–Ω–æ–µ –≤–ª–æ–∂–µ–Ω–∏–µ —Ä–µ–ø–ª–∏–∫
  - –¢–µ—Å—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (5 —Ç–µ—Å—Ç–æ–≤):
    - testVisualPositionBeforeGap - –ø–æ–∑–∏—Ü–∏—è –¥–æ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞
    - testVisualPositionAfterGap - –ø–æ–∑–∏—Ü–∏—è –ø–æ—Å–ª–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞
    - testVisualPositionInsideGap - –ø–æ–∑–∏—Ü–∏—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞
    - testVisualPositionWithMultipleGaps - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∏
  - –¢–µ—Å—Ç—ã –¥–ª—è –æ–±—â–µ–π –≤–∏–∑—É–∞–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (3 —Ç–µ—Å—Ç–∞):
    - testTotalDurationWithoutGaps - –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–≤
    - testTotalDurationWithSingleGap - —Å –æ–¥–Ω–∏–º –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–º
    - testTotalDurationWithMultipleGaps - —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞–º–∏
  - Edge cases —Ç–µ—Å—Ç—ã (4 —Ç–µ—Å—Ç–∞):
    - testEmptyTurnsArray - –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
    - testSingleTurn - –æ–¥–Ω–∞ —Ä–µ–ø–ª–∏–∫–∞
    - testUnsortedTurns - –Ω–µ–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–ª–∏–∫–∏
    - testNegativeTime - –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è
    - testLargeTimeIntervals - –±–æ–ª—å—à–∏–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
    - testAdjacentTurns - —Å–æ–ø—Ä–∏–∫–∞—Å–∞—é—â–∏–µ—Å—è —Ä–µ–ø–ª–∏–∫–∏
  - –í—Å–µ 21 —Ç–µ—Å—Ç —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (100% success rate)
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –∑–∞ 3.33s
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ: 38 (15 mock + 21 timeline + 2 core)
- [ ] 4.3 –¢–µ—Å—Ç—ã VAD
- [x] 4.4 –¢–µ—Å—Ç—ã AudioNormalizer ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Tests/Utils/AudioNormalizerTests.swift` —Å 9 integration —Ç–µ—Å—Ç–∞–º–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã helper –º–µ—Ç–æ–¥—ã –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ (WAV)
  - –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
    - `testNormalizationIncreasesQuietAudio` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∏—Ö–æ–≥–æ –∞—É–¥–∏–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –≥—Ä–æ–º–∫–æ—Å—Ç—å
    - `testNormalizationPreservesNormalAudio` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –∞—É–¥–∏–æ (¬±60% –¥–æ–ø—É—Å–∫)
    - `testNormalizationPreventsPeakClipping` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ clipping (peak < 0.95)
    - `testNormalizationUsesCache` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    - `testCleanupRemovesNormalizedFiles` - –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    - `testNormalizationPreservesFileFormat` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ (WAV)
    - `testRMSCalculation` - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ RMS –¥–ª—è —Å–∏–Ω—É—Å–æ–∏–¥—ã
    - `testPeakDetection` - —Ç–æ—á–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∞–º–ø–ª–∏—Ç—É–¥—ã
    - `testFallbackReturnsOriginalFileOnError` - skipped (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è DI)
  - –í—Å–µ 8 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç, 1 –ø—Ä–æ–ø—É—â–µ–Ω
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 47 (15 mock + 21 timeline + 9 normalizer + 2 core)
  - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤ AudioNormalizer: ~2.2s
- [x] 4.5 –¢–µ—Å—Ç—ã ViewModel ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Tests/UI/ViewModels/FileTranscriptionViewModelTests.swift` —Å 27 —Ç–µ—Å—Ç–∞–º–∏
  - –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ FileTranscriptionViewModel:
    - **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (1 —Ç–µ—Å—Ç)
    - **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª—å—é**: setModel() –¥–ª—è Whisper –º–æ–¥–µ–ª–µ–π (2 —Ç–µ—Å—Ç–∞)
    - **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏**: startTranscription(), updateProgress(), complete() (6 —Ç–µ—Å—Ç–æ–≤)
    - **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**: setTranscription() –¥–ª—è –º–æ–Ω–æ, setDialogue() –¥–ª—è —Å—Ç–µ—Äeo (3 —Ç–µ—Å—Ç–∞)
    - **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: setError() –∏ recovery (2 —Ç–µ—Å—Ç–∞)
    - **–°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è**: reset() –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å AudioPlayer (3 —Ç–µ—Å—Ç–∞)
    - **–ü–µ—Ä–µ—Ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π**: –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É—Å–ø–µ—à–Ω–æ–π/–Ω–µ—É–¥–∞—á–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (2 —Ç–µ—Å—Ç–∞)
    - **Edge cases**: —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –Ω–∞—á–∞–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å (5 —Ç–µ—Å—Ç–æ–≤)
    - **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å URL**: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ URL –¥–ª—è retry —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (3 —Ç–µ—Å—Ç–∞)
  - –í—Å–µ 27 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (0.049s)
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ: 74 (15 mock + 21 timeline + 9 normalizer + 27 viewmodel + 2 core)
  - –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Å–≤–æ–π—Å—Ç–≤ ViewModel
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: idle ‚Üí processing ‚Üí completed/error
- [x] 4.3 –¢–µ—Å—Ç—ã VAD ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Tests/Utils/VAD/SpectralVADTests.swift` —Å 20 unit-—Ç–µ—Å—Ç–∞–º–∏
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Tests/Utils/VAD/VADIntegrationTests.swift` —Å 12 integration —Ç–µ—Å—Ç–∞–º–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∞—É–¥–∏–æ
  - –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ SpectralVAD:
    - **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ä–µ—á–∏**: –¥–µ—Ç–µ–∫—Ü–∏—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤ —Ç–∏—à–∏–Ω–µ, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã (3 —Ç–µ—Å—Ç–∞)
    - **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–∞—Å—Ç–æ—Ç**: –Ω–∏–∑–∫–∏–µ (<300Hz), –≤—ã—Å–æ–∫–∏–µ (>3400Hz), —Ä–µ—á–µ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω (3 —Ç–µ—Å—Ç–∞)
    - **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: minSpeechDuration, minSilenceDuration (2 —Ç–µ—Å—Ç–∞)
    - **Preset —Ç–µ—Å—Ç—ã**: telephone, wideband –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (2 —Ç–µ—Å—Ç–∞)
    - **Edge cases**: –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –∫–æ—Ä–æ—Ç–∫–æ–µ –∞—É–¥–∏–æ, –Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞, —Ç–∏—Ö–æ–µ/–≥—Ä–æ–º–∫–æ–µ –∞—É–¥–∏–æ (6 —Ç–µ—Å—Ç–æ–≤)
    - **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ**: extractAudio –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (3 —Ç–µ—Å—Ç–∞)
    - **Integration**: —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –º–∏–∫—Å —Ä–µ—á–∏ –∏ —à—É–º–∞ (1 —Ç–µ—Å—Ç)
  - –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ AdaptiveVAD —á–µ—Ä–µ–∑ integration —Ç–µ—Å—Ç—ã:
    - **–î–µ—Ç–µ–∫—Ü–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö**: –∫–æ—Ä–æ—Ç–∫–∏–π, —Å—Ä–µ–¥–Ω–∏–π, –¥–ª–∏–Ω–Ω—ã–π –∑–≤–æ–Ω–∫–∏ (3 —Ç–µ—Å—Ç–∞)
    - **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤**: SpectralVAD vs AdaptiveVAD (1 —Ç–µ—Å—Ç)
    - **–í–∞–ª–∏–¥–∞—Ü–∏—è**: —Å–µ–≥–º–µ–Ω—Ç—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—Ç—Å—è, –≤–∞–ª–∏–¥–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (2 —Ç–µ—Å—Ç–∞)
    - **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ**: extractAudio –¥–ª—è –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (1 —Ç–µ—Å—Ç)
    - **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: performance —Ç–µ—Å—Ç—ã –¥–ª—è –æ–±–æ–∏—Ö VAD (2 —Ç–µ—Å—Ç–∞)
  - –†–µ–∞–ª—å–Ω—ã–µ –∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –∏–∑ Tests/Fixtures/audio/ (3 —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏)
  - –í—Å–µ 32 —Ç–µ—Å—Ç–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (100% success rate)
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤: 106 (15 mock + 21 timeline + 9 normalizer + 27 viewmodel + 20 spectral + 12 vad_integration + 2 core)
  - Performance results:
    - SpectralVAD: ~0.025s –Ω–∞ 81s –∞—É–¥–∏–æ (Real-Time Factor ~0.0003)
    - AdaptiveVAD: ~0.410s –Ω–∞ 81s –∞—É–¥–∏–æ (Real-Time Factor ~0.005)
- [ ] 4.6 Integration —Ç–µ—Å—Ç—ã

### –ü—Ä–æ–±–ª–µ–º–∞ 5: –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ
- [x] 5.1 –°–æ–∑–¥–∞—Ç—å AudioCache ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/Utils/Audio/AudioCache.swift` —Å actor –¥–ª—è thread-safe –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `CachedAudio` —Å mono –∏ stereo –¥–∞–Ω–Ω—ã–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã: `loadAudio()`, `isCached()`, `clearCache()`, `evict()`, `getStatistics()`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ LRU —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è (Least Recently Used)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç—É (TTL 5 –º–∏–Ω—É—Ç) –∏ —Ä–∞–∑–º–µ—Ä—É (500MB –ª–∏–º–∏—Ç)
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: cache hits, misses, hit rate, memory usage
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è (Build complete 4.29s)
- [x] 5.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ FileTranscriptionService ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ `audioCache: AudioCache` —Å DI —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `loadAudio()`: —Å 67 —Å—Ç—Ä–æ–∫ –¥–æ 13 —Å—Ç—Ä–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `loadAudioStereo()`: —Å 52 —Å—Ç—Ä–æ–∫ –¥–æ 27 —Å—Ç—Ä–æ–∫ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º: `clearAudioCache()`, `evictFromCache()`, `getCacheStatistics()`
  - –û–±–Ω–æ–≤–ª–µ–Ω DependencyContainer –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –æ–±—â–µ–≥–æ AudioCache
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ cache hits: "–ê—É–¥–∏–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ –∫—ç—à–∞: filename.mp3"
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- [x] 5.3 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ AudioPlayerManager ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–≤–æ–π—Å—Ç–≤–æ `audioCache: AudioCache` —Å DI —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ `loadAudio()` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ cache —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: hit rate, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
  - –û–±–Ω–æ–≤–ª–µ–Ω FileTranscriptionViewModel –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ AudioCache –≤ AudioPlayerManager
  - –û–±–Ω–æ–≤–ª–µ–Ω MainWindow –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è AudioCache —á–µ—Ä–µ–∑ DI
  - AppDelegate –ø–µ—Ä–µ–¥–∞–µ—Ç –æ–±—â–∏–π AudioCache –∏–∑ DependencyContainer
  - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–¥–∏–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä AudioCache
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 6.39s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞ 6: State management
- [x] 6.1 –°–æ–∑–¥–∞—Ç—å state —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/UI/ViewModels/AudioPlayerState.swift`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `AudioPlayerState` —Å —Ç—Ä–µ–º—è –≥—Ä—É–ø–ø–∞–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:
    - `PlaybackState`: isPlaying, currentTime, duration + computed properties (progress, remainingTime, formatted times)
    - `AudioState`: volume, volumeBoost + computed properties (effectiveVolume, volumePercentage, boostPercentage)
    - `AudioSettings`: playbackRate, monoMode, pauseOtherPlayersEnabled + validation
  - –î–æ–±–∞–≤–ª–µ–Ω—ã convenience extensions: reset(), stopped(), increaseBoost(), decreaseBoost()
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã: VolumeBoostConstants, availablePlaybackRates, min/max playback rates
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø—Ä–æ—Ç–æ–∫–æ–ª Equatable –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è
- [x] 6.2 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ AudioPlayerManager ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –ó–∞–º–µ–Ω–µ–Ω—ã 8 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö @Published —Å–≤–æ–π—Å—Ç–≤ –Ω–∞ `@Published var state = AudioPlayerState()`
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã AudioPlayerManager –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ state:
    - `configureAudioGraph()`: state.settings.monoMode
    - `applyCurrentSettings()`: state.settings.playbackRate, state.audio.effectiveVolume
    - `loadSettings()`: state.settings.pauseOtherPlayersEnabled
    - `loadAudio()`: state.playback.duration, state.playback.isPlaying, state.playback.currentTime
    - `play()`, `pause()`, `stop()`: state.playback –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    - `seek()`, `seekAndPlay()`: state.playback.currentTime
    - `setVolume()`, `setVolumeBoost()`: state.audio.volume/volumeBoost
    - `setPlaybackRate()`: state.settings.playbackRate
    - `setMonoMode()`: state.settings.monoMode
    - `togglePlayback()`: state.playback.isPlaying
    - `startProgressTimer()`: state.playback.currentTime/duration/isPlaying
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è state:
    - `TimelineDialogueView.swift`: audioPlayer.state.playback.isPlaying/currentTime
    - `CompactTurnCard.swift`: audioPlayer.state.playback.isPlaying/currentTime
    - `AudioPlayerView.swift`: –≤—Å–µ 11 –æ–±—Ä–∞—â–µ–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ state.*
  - –û–±–Ω–æ–≤–ª–µ–Ω —Ç–µ—Å—Ç `FileTranscriptionViewModelTests.swift`: audioPlayer.state.playback.isPlaying
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (0 failures)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 3.65s)

### –ü—Ä–æ–±–ª–µ–º–∞ 7: Magic numbers
- [x] 7.1 Timeline constants ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/UI/Views/Timeline/TimelineConstants.swift` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: Compression, Scaling, Synchronization, DurationBar
  - **Compression**: minSilenceGapToCompress (0.5s), compressedGapDisplayDuration (0.15s)
  - **Scaling**: minPixelsPerSecond (15), maxPixelsPerSecond (80), maxTimelineHeight (600), defaultPixelsPerSecond (40)
  - **Synchronization**: turnTimeTolerance (0.5s), significantSilenceThreshold (1.0s), singleChannelSilenceThreshold (2.0s)
  - **DurationBar**: scale (3.0 px/sec)
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ magic numbers –≤ TimelineMapper.swift (2 –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ magic numbers –≤ TimelineSyncedDialogueView.swift (6 –∫–æ–Ω—Å—Ç–∞–Ω—Ç)
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ magic numbers –≤ TimelineDialogueView.swift (4 –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 5.47s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥—è—Ç (13.04s)
- [x] 7.2 TurnCard constants ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/UI/Views/Timeline/TurnCardConstants.swift` —Å 26 –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: Duration Bar, Spacing, Font Sizes, Copy Button, Border & Corner Radius, Animation, Opacity
  - **Duration Bar**: minHeight (10), maxHeight (60), width (3), cornerRadius (1.5)
  - **Spacing**: mainHorizontal (6), durationBarVertical (2), contentVertical (4), contentPadding (8), verticalPadding (2), copyButtonPadding (6)
  - **Font Sizes**: startTime (7), duration (8), text (11), copyButtonIcon (10)
  - **Copy Button**: size (20), backgroundOpacity (0.9), feedbackDuration (1.5s)
  - **Border**: cardCornerRadius (6), activeStrokeWidth (2)
  - **Animation**: hoverAnimationDuration (0.15s)
  - **Opacity**: secondaryTextOpacity (0.7)
  - –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ 26 magic numbers –≤ CompactTurnCard.swift (13 –º–µ—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 3.85s)
- [x] 7.3 –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ magic numbers ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω `Sources/UI/Views/Transcription/TranscriptionViewConstants.swift` (91 —Å—Ç—Ä–æ–∫–∞) —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö Transcription –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    - Header: 11 –∫–æ–Ω—Å—Ç–∞–Ω—Ç (font sizes, spacing, padding, progress, animation)
    - EmptyState: 8 –∫–æ–Ω—Å—Ç–∞–Ω—Ç (font sizes, spacing, padding, opacity)
    - SettingsPanel: 13 –∫–æ–Ω—Å—Ç–∞–Ω—Ç (font sizes, spacing, padding, sizes, opacity)
    - Content: 3 –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (padding, font sizes)
  - –°–æ–∑–¥–∞–Ω `Sources/UI/Views/Timeline/SilenceIndicatorConstants.swift` (29 —Å—Ç—Ä–æ–∫) —Å 10 –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
    - Line, Font, Padding, Spacing, Opacity, Time Formatting –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
  - –°–æ–∑–¥–∞–Ω `Sources/Services/ServiceConstants.swift` (52 —Å—Ç—Ä–æ–∫–∏) —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
    - WaitIntervals: oneSecond (1_000_000_000 ns), halfSecond (500_000_000 ns)
    - Audio: whisperSampleRate (16000), cdSampleRate (44100), professionalSampleRate (48000), telephonySampleRate (8000)
    - Time: secondsPerMinute (60), secondsPerHour (3600), minutesPerHour (60)
  - –ó–∞–º–µ–Ω–µ–Ω—ã magic numbers –≤ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
    - HeaderView.swift: 20+ –∑–∞–º–µ–Ω (font sizes, spacing, padding, animation)
    - EmptyStateView.swift: 11 –∑–∞–º–µ–Ω (sizes, spacing, opacity)
    - SettingsPanel.swift: 15 –∑–∞–º–µ–Ω (font sizes, spacing, padding, opacity)
    - ContentView.swift: 4 –∑–∞–º–µ–Ω—ã (padding, font size)
    - SilenceIndicator.swift: 10 –∑–∞–º–µ–Ω (sizes, spacing, padding, opacity)
  - –ó–∞–º–µ–Ω–µ–Ω—ã magic numbers –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö:
    - FileTranscriptionService.swift: 2 –∑–∞–º–µ–Ω—ã (sleep intervals 1s)
    - ModelManager.swift: 2 –∑–∞–º–µ–Ω—ã (sleep intervals 0.5s)
    - ExportManager.swift: 3 –∑–∞–º–µ–Ω—ã (time calculations: 60, 3600)
  - –í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ enum —Å nested enums –¥–ª—è –ª–æ–≥–∏—á–µ—Å–∫–æ–π –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω typealias Constants –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
  - –ü—Ä–æ–µ–∫—Ç –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 5.27s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (10.49s)

### –ü—Ä–æ–±–ª–µ–º–∞ 8: –î–ª–∏–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- [x] 8.1 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ transcribeStereoAsDialogue ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `prepareStereoChanels(from:)` –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∞—É–¥–∏–æ (12 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `detectAndMergeStereoSegments(left:right:)` –¥–ª—è VAD –∞–Ω–∞–ª–∏–∑–∞ (41 —Å—Ç—Ä–æ–∫–∞)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `transcribeSegmentsInOrder(_:fileName:totalDuration:)` –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (48 —Å—Ç—Ä–æ–∫)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ `transcribeStereoAsDialogue(url:)` (23 —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ 97)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤
  - –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É —á–µ—Ç–∫—É—é –∑–∞–¥–∞—á—É
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (17/17)
- [x] 8.2 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ performTranscription ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `waitForModelLoading(window:file:)` –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ (29 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `executeTranscription(file:window:)` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ (58 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `handleTranscriptionError(_:file:window:)` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ (45 —Å—Ç—Ä–æ–∫)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ `performTranscription(files:window:)` (46 —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ 149)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å–µ—Ö 4 –º–µ—Ç–æ–¥–æ–≤
  - –£–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Ä–∞–∑–¥–µ–ª–µ–Ω—ã —ç—Ç–∞–ø—ã –æ–∂–∏–¥–∞–Ω–∏—è, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 3.65s)
  - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (17/17 passed)
- [x] 8.3 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ setupAudioEngine ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-12**
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `attachAudioNodes()` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É–∑–ª–æ–≤ –≤ –∞—É–¥–∏–æ –≥—Ä–∞—Ñ (6 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `configureMixerDefaults()` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ mixer —É–∑–ª–∞ (3 —Å—Ç—Ä–æ–∫–∏)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `disconnectAllNodes()` –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (5 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `configureAudioGraph(format:isStereo:)` –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (7 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `configureMonoModeGraph(format:)` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–æ —Ä–µ–∂–∏–º–∞ (16 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `configureStereoModeGraph(format:)` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–µ—Ä–µ–æ —Ä–µ–∂–∏–º–∞ (8 —Å—Ç—Ä–æ–∫)
  - –°–æ–∑–¥–∞–Ω –º–µ—Ç–æ–¥ `applyCurrentSettings()` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫ —É–∑–ª–∞–º (4 —Å—Ç—Ä–æ–∫–∏)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ `setupAudioEngine()` (4 —Å—Ç—Ä–æ–∫–∏ –≤–º–µ—Å—Ç–æ 13)
  - –£–ø—Ä–æ—â–µ–Ω –º–µ—Ç–æ–¥ `loadAudio()`: —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å–µ—Ö 7 –º–µ—Ç–æ–¥–æ–≤ —Å –¥–∏–∞–≥—Ä–∞–º–º–∞–º–∏ –≥—Ä–∞—Ñ–∞
  - –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å: –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–Ω—É —á–µ—Ç–∫—É—é –∑–∞–¥–∞—á—É
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 4.77s)
  - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (38/38 passed)

### –ü—Ä–æ–±–ª–µ–º–∞ 9: SwiftUI –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å
- [x] 9.1 StatusIndicator ViewBuilder ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/UI/Components/StatusIndicator.swift` —Å –¥–≤—É–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `StatusIndicator` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∏–∫–æ–Ω–∫–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `LoadingStatusIndicator` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å ProgressView –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
  - –°–æ–∑–¥–∞–Ω `StatusIndicatorConstants` enum —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ (iconSize: 10, textSize: 10, spacing: 4)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω `HeaderView.swift`: –∑–∞–º–µ–Ω–µ–Ω–æ 52 —Å—Ç—Ä–æ–∫–∏ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞
  - HeaderView.swift —É–º–µ–Ω—å—à–µ–Ω —Å 127 –¥–æ 92 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 35 —Å—Ç—Ä–æ–∫, 27.5%)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã 5 SwiftUI Preview –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 4.26s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (0 failures)
- [x] 9.2 ActionButton ViewBuilder ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `Sources/UI/Components/ActionButton.swift` —Å –¥–≤—É–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `ActionButton` - –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º (.borderedProminent —Å—Ç–∏–ª—å)
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `IconButton` - –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è icon-only –∫–Ω–æ–ø–∫–∞ (.plain —Å—Ç–∏–ª—å)
  - –°–æ–∑–¥–∞–Ω `Constants` enum —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ (buttonIconSize: 11, buttonTextSize: 11, iconButtonSize: 16, buttonContentSpacing: 4)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–µ–Ω `HeaderView.swift`: –∑–∞–º–µ–Ω–µ–Ω—ã 2 –∫–Ω–æ–ø–∫–∏ –Ω–∞ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - HeaderView.swift —É–º–µ–Ω—å—à–µ–Ω —Å 92 –¥–æ 84 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 8 —Å—Ç—Ä–æ–∫, 8.7%)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã 3 SwiftUI Preview –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è (Action Button, Icon Button, Mixed Buttons)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 5.22s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (0 failures)
- [x] 9.3 –£–ø—Ä–æ—Å—Ç–∏—Ç—å FileTranscriptionView ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω `FileSelectionHelper` –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ (65 —Å—Ç—Ä–æ–∫)
  - –í—ã–¥–µ–ª–µ–Ω `FileTranscriptionView` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `Sources/UI/Views/Transcription/FileTranscriptionView.swift` (169 —Å—Ç—Ä–æ–∫)
  - –£–ø—Ä–æ—â–µ–Ω body –º–µ—Ç–æ–¥ —Å 49 –¥–æ 13 —Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π (headerSection, settingsPanelSection, progressSection, contentSection)
  - –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥–æ–≤:
    - `handleSelectFile()` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FileSelectionHelper
    - `handleSelectNewFile()` - –≤—ã–±–æ—Ä –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
    - `handleRetranscribe()` - –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
    - `initializeSettings()`, `saveSettingsAndUpdateMode()`, `logRetranscriptionSettings()`, `hideSettingsPanelWithAnimation()` - helper –º–µ—Ç–æ–¥—ã
  - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω `TranscriptionSettingsPanel` ‚Üí `SettingsPanel` (—Å typealias –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
  - MainWindow.swift —É–º–µ–Ω—å—à–µ–Ω —Å 301 –¥–æ 153 —Å—Ç—Ä–æ–∫ (—ç–∫–æ–Ω–æ–º–∏—è 148 —Å—Ç—Ä–æ–∫, 49.2%)
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (Build complete 6.34s)
  - –í—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ (0 failures)

### –ü—Ä–æ–±–ª–µ–º–∞ 10: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [x] 10.1 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WhisperService ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ WhisperService —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `loadModel()`, `reloadModel()`, `transcribe()`, `transcribeChunk()`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞
  - –û–ø–∏—Å–∞–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è Apple Silicon (Metal GPU + Neural Engine)
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã performance –º–µ—Ç—Ä–∏–∫–∏ (RTF - Real-Time Factor)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã notes –æ thread safety –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π
- [x] 10.2 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è FileTranscriptionService ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–ª–∞—Å—Å–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –æ—Å–Ω–æ–≤–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã enum `TranscriptionMode` –∏ `VADAlgorithm` —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ —Å real-time –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞: `mode`, `vadAlgorithm`, `onProgressUpdate`
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä —Å dependency injection
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `transcribeFileWithDialogue()`, `transcribeFile()`, `applyUserSettings()`
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—ç—à–µ–º: `clearAudioCache()`, `evictFromCache()`, `getCacheStatistics()`
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –¥–ª—è —Å—Ç–µ—Ä–µ–æ –∏ –º–æ–Ω–æ —Ñ–∞–π–ª–æ–≤
  - –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π (Throws —Å–µ–∫—Ü–∏–∏)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –≤—Å–µ 106 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] 10.3 ARCHITECTURE.md ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û 2025-11-13**
  - –°–æ–∑–¥–∞–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç ARCHITECTURE.md (500+ —Å—Ç—Ä–æ–∫)
  - –û–ø–∏—Å–∞–Ω—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã: MVVM, DI, Layered Architecture
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–∞–≥—Ä–∞–º–º—ã —Å–∏—Å—Ç–µ–º–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å ASCII art
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö 4 —Å–ª–æ–µ–≤: Presentation, Business Logic, Data Access, Utilities
  - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ Core Components: Transcription Pipeline, VAD System, Audio Cache
  - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö: Stereo Transcription Flow, State Management Flow
  - –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã Dependency Injection —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Container Pattern
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ —Å typed errors
  - –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: Audio Cache, VAD, Metal GPU, Concurrent Processing
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: Test Pyramid, 106 —Ç–µ—Å—Ç–æ–≤
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ Development Workflow: building, testing, code quality, git
  - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞
  - –û–ø–∏—Å–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ design decisions —Å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º
  - –°–ø–∏—Å–æ–∫ –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π –∏ technical debt
  - –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–Ω–µ—à–Ω—é—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ best practices
  - –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞ TranscribeIt —Å –æ—Ü–µ–Ω–∫–æ–π —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–æ —Å–ø—Ä–∏–Ω—Ç–∞–º, –Ω–∞—á–∏–Ω–∞—è —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (Sprint 1), —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –ø—Ä–æ—Ç—è–∂–µ–Ω–∏–∏ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.
